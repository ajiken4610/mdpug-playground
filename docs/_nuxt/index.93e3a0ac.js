import{s as T}from"./katex.min.0a87eea6.js";import{f as h,r as p,g as y,o as w,c as g,h as i,_ as D,i as f,j as k,a as d,k as _,v as W,l as P,m as E,n as v,b as x,t as L}from"./entry.63ee8641.js";function R(){return new Worker(""+new URL("MDPugPerserWorker-edb97f53.js",import.meta.url).href,{type:"module"})}const F=(n,o="Footnotes",t,e=!1,s=1e3)=>new Promise((r,u)=>{const a=new R;a.postMessage({mdpug:n,footnotes:o,variables:t,allowStyle:e});const c=setTimeout(()=>{a.terminate(),u("Parse operation timeout.")},s);a.addEventListener("message",l=>{clearTimeout(c),a.terminate(),"result"in l.data&&r(T(l.data.result,e)),"error"in l.data&&u(l.data.error)})}),$=["innerHTML"],j=h({__name:"Viewer",props:{mdpug:{default:"# NO_MDPUG_PROVIDED"}},emits:["log"],setup(n,{emit:o}){const t=n,e=p("");return y(async()=>{let s=!1;try{e.value=await F(t.mdpug,"Footnotes:",void 0,!0,1e4)}catch(r){o("log",r.toString().split(`
`)[0]),s=!0}s||o("log","")}),(s,r)=>(w(),g("div",{class:"mdpug",innerHTML:i(e)},null,8,$))}});const O=D(j,[["__scopeId","data-v-a847ae1b"]]);function V(n){return typeof n=="function"?n():i(n)}const b=()=>{};function U(n,o){function t(...e){return new Promise((s,r)=>{Promise.resolve(n(()=>o.apply(this,e),{fn:o,thisArg:this,args:e})).then(s).catch(r)})}return t}function z(n,o={}){let t,e,s=b;const r=a=>{clearTimeout(a),s(),s=b};return a=>{const c=V(n),l=V(o.maxWait);return t&&r(t),c<=0||l!==void 0&&l<=0?(e&&(r(e),e=null),Promise.resolve(a())):new Promise((m,M)=>{s=o.rejectOnCancel?M:m,l&&!e&&(e=setTimeout(()=>{t&&r(t),e=null,m(a())},l)),t=setTimeout(()=>{e&&r(e),e=null,m(a())},c)})}}function B(n,o=200,t={}){return U(z(o,t),n)}function C(n,o=200,t={}){const e=p(n.value),s=B(()=>{e.value=n.value},o,t);return f(n,()=>s()),e}const H={class:"border-2 rounded-2xl p-2 h-full font-mono"},N={class:"h-full overflow-y-hidden"},S=h({__name:"Editor",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:o}){const t=n,e=p(t.modelValue);f(k(t,"modelValue"),r=>e.value=r);const s=C(e,500);return f(s,r=>{o("update:modelValue",r)}),(r,u)=>(w(),g("div",H,[d("div",N,[_(d("textarea",{class:"w-full h-full bg-transparent resize-none whitespace-nowrap focus:outline-0",ref:"textareaRef","onUpdate:modelValue":u[0]||(u[0]=a=>P(e)?e.value=a:null)},null,512),[[W,i(e)]])])]))}}),I={class:"h-full"},A={class:"inline-block w-full overflow-y-auto px-1 h-1/2 md:h-full md:w-1/2"},G={class:"inline-block w-full overflow-y-auto px-1 h-1/2 md:h-full md:w-1/2"},K=h({__name:"index",setup(n){const o=E("code"),t=p(""),e=s=>{t.value=s};return(s,r)=>{const u=O,a=S;return w(),g("div",I,[d("div",A,[_(x(u,{mdpug:i(o),onLog:e},null,8,["mdpug"]),[[v,!i(t)]]),_(d("div",{class:"whitespace-pre-wrap text-red-500"},L(i(t)),513),[[v,i(t)]])]),d("div",G,[x(a,{modelValue:i(o),"onUpdate:modelValue":r[0]||(r[0]=c=>P(o)?o.value=c:null)},null,8,["modelValue"])])])}}});export{K as default};
